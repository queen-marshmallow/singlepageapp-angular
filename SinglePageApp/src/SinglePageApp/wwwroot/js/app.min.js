var app=angular.module("app",["ngRoute","ngResource","angularSpinners"]),ngm=function(){var e={};return function(n){var o=e[n];if(o)return o;try{e[n]=angular.module(n)}catch(t){}return e[n]}}();ngm("app").config(["$routeProvider",function(e){e.when("/",{templateUrl:"/views/landing.html",controller:"landingCtrl"}).when("/jobs/create",{templateUrl:"/views/jobs/create-job.html",controller:"createJobCtrl"}).when("/jobs/list",{templateUrl:"/views/jobs/list-job.html",controller:"listJobCtrl"})}]),ngm("app").controller("landingCtrl",["$scope",function(e){e.message="Hello there!"}]),ngm("app").factory("cacheSvc",["$cacheFactory",function(e){return e("app-cache")}]),ngm("app").factory("jobSvc",["$resource","$q",function(e,n){return{getAllJobs:function(){var o=n.defer();return e("api/jobs/").query({},null,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},createJob:function(o){var t=n.defer();return e("api/jobs/").save({},o,function(){t.resolve()},function(e){t.reject(e)}),t.promise}}}]),ngm("app").factory("staticDataSvc",["$resource","$q","cacheSvc",function(e,n,o){var t="staticOrganizations_Key",a="staticRoles_Key";return{getOrganizations:function(){var a=n.defer(),i=o.get(t);return null!=i&&a.resolve(i),e("api/organizations/").query({},null,function(e){o.put(t,e),a.resolve(e)},function(e){a.reject(e)}),a.promise},getRoles:function(){var t=n.defer(),i=o.get(a);return null!=i&&t.resolve(i),e("api/roles/").query({},null,function(e){o.put(a,e),t.resolve(e)},function(e){t.reject(e)}),t.promise},getStates:function(){return["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississipi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},clearCache:function(){o.remove(t),o.remove(a)}}}]),ngm("app").controller("createJobCtrl",["$scope","$q","jobSvc","staticDataSvc","spinnerService",function(e,n,o,t,a){e.initialize=function(){e.isLoaded=!1,a.show("jobCreateSpinner");var i=t.getOrganizations();i.then(function(n){e.organizations=n});var r=t.getRoles();r.then(function(n){e.roles=n}),n.all([i,r])["finally"](function(){a.hide("jobCreateSpinner"),e.isLoaded=!0}),e.states=t.getStates(),e.submit=function(){var n={Description:e.description,PositionType:e.selectedRole,State:e.selectedState,City:e.city,Location:e.selectedLocation,Organization:e.selectedOrganization};o.createJob(n).then(function(){window.location.replace(window.location.protocol+"//"+window.location.host)})}}}]),ngm("app").controller("listJobCtrl",["$scope","jobSvc","spinnerService",function(e,n,o){e.initialize=function(){o.show("jobListSpinner"),n.getAllJobs().then(function(n){e.jobs=n})["finally"](function(){o.hide("jobListSpinner"),e.isLoaded=!0})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImNvbW1vbi9yb3V0ZS1jb25maWcuanMiLCJjb250cm9sbGVycy9sYW5kaW5nLmN0cmwuanMiLCJzZXJ2aWNlcy9jYWNoZS5zdmMuanMiLCJzZXJ2aWNlcy9qb2Iuc3ZjLmpzIiwic2VydmljZXMvc3RhdGljLWRhdGEuc3ZjLmpzIiwiY29udHJvbGxlcnMvam9icy9jcmVhdGUtam9iLmN0cmwuanMiLCJjb250cm9sbGVycy9qb2JzL2xpc3Qtam9iLmN0cmwuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsIm5nbSIsIm1vZHVsZXMiLCJuYW1lIiwiZXJyIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwibWVzc2FnZSIsImZhY3RvcnkiLCIkY2FjaGVGYWN0b3J5IiwiJHJlc291cmNlIiwiJHEiLCJnZXRBbGxKb2JzIiwiZGVmZXIiLCJxdWVyeSIsImRhdGEiLCJyZXNvbHZlIiwiZXJyb3IiLCJyZWplY3QiLCJwcm9taXNlIiwiY3JlYXRlSm9iIiwiam9iIiwic2F2ZSIsImNhY2hlU3ZjIiwib3JnQ2FjaGVLZXkiLCJyb2xlQ2FjaGVLZXkiLCJnZXRPcmdhbml6YXRpb25zIiwiY2FjaGVkIiwiZ2V0IiwicHV0IiwiZ2V0Um9sZXMiLCJnZXRTdGF0ZXMiLCJjbGVhckNhY2hlIiwicmVtb3ZlIiwiam9iU3ZjIiwic3RhdGljRGF0YVN2YyIsInNwaW5uZXJTZXJ2aWNlIiwiaW5pdGlhbGl6ZSIsImlzTG9hZGVkIiwic2hvdyIsIm9yZ1JlcXVlc3QiLCJ0aGVuIiwib3JncyIsIm9yZ2FuaXphdGlvbnMiLCJyb2xlUmVxdWVzdCIsInJvbGVzIiwiYWxsIiwiaGlkZSIsInN0YXRlcyIsInN1Ym1pdCIsIkRlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJQb3NpdGlvblR5cGUiLCJzZWxlY3RlZFJvbGUiLCJTdGF0ZSIsInNlbGVjdGVkU3RhdGUiLCJDaXR5IiwiY2l0eSIsIkxvY2F0aW9uIiwic2VsZWN0ZWRMb2NhdGlvbiIsIk9yZ2FuaXphdGlvbiIsInNlbGVjdGVkT3JnYW5pemF0aW9uIiwid2luZG93IiwibG9jYXRpb24iLCJyZXBsYWNlIiwicHJvdG9jb2wiLCJob3N0Iiwiam9icyJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBQUEsS0FBQUMsUUFBQUMsT0FBQSxPQUFBLFVBQUEsYUFBQSxvQkFFQUMsSUFBQSxXQUNBLEdBQUFDLEtBQ0EsT0FBQSxVQUFBQyxHQUNBLEdBQUFILEdBQUFFLEVBQUFDLEVBQ0EsSUFBQUgsRUFDQSxNQUFBQSxFQUVBLEtBQ0FFLEVBQUFDLEdBQUFKLFFBQUFDLE9BQUFHLEdBRUEsTUFBQUMsSUFDQSxNQUFBRixHQUFBQyxNQ2JBRixLQUFBLE9BQUFJLFFBQUEsaUJBQUEsU0FBQUMsR0FDQUEsRUFDQUMsS0FBQSxLQUNBQyxZQUFBLHNCQUNBQyxXQUFBLGdCQUVBRixLQUFBLGdCQUNBQyxZQUFBLDhCQUNBQyxXQUFBLGtCQUVBRixLQUFBLGNBQ0FDLFlBQUEsNEJBQ0FDLFdBQUEsbUJDYkFSLElBQUEsT0FBQVEsV0FBQSxlQUFBLFNBQUEsU0FBQUMsR0FDQUEsRUFBQUMsUUFBQSxrQkNEQVYsSUFBQSxPQUFBVyxRQUFBLFlBQUEsZ0JBQUEsU0FBQUMsR0FDQSxNQUFBQSxHQUFBLGdCQ0RBWixJQUFBLE9BQUFXLFFBQUEsVUFBQSxZQUFBLEtBQUEsU0FBQUUsRUFBQUMsR0FDQSxPQUNBQyxXQUFBLFdBQ0EsR0FBQUMsR0FBQUYsRUFBQUUsT0FPQSxPQUxBSCxHQUFBLGFBQUFJLFNBQUEsS0FBQSxTQUFBQyxHQUNBRixFQUFBRyxRQUFBRCxJQUNBLFNBQUFFLEdBQ0FKLEVBQUFLLE9BQUFELEtBRUFKLEVBQUFNLFNBRUFDLFVBQUEsU0FBQUMsR0FDQSxHQUFBUixHQUFBRixFQUFBRSxPQVNBLE9BUEFILEdBQUEsYUFBQVksUUFBQUQsRUFDQSxXQUNBUixFQUFBRyxXQUVBLFNBQUFDLEdBQ0FKLEVBQUFLLE9BQUFELEtBRUFKLEVBQUFNLGFDdEJBdEIsSUFBQSxPQUFBVyxRQUFBLGlCQUFBLFlBQUEsS0FBQSxXQUFBLFNBQUFFLEVBQUFDLEVBQUFZLEdBQ0EsR0FBQUMsR0FBQSwwQkFDQUMsRUFBQSxpQkFFQSxRQUNBQyxpQkFBQSxXQUNBLEdBQUFiLEdBQUFGLEVBQUFFLFFBRUFjLEVBQUFKLEVBQUFLLElBQUFKLEVBV0EsT0FWQSxPQUFBRyxHQUNBZCxFQUFBRyxRQUFBVyxHQUdBakIsRUFBQSxzQkFBQUksU0FBQSxLQUFBLFNBQUFDLEdBQ0FRLEVBQUFNLElBQUFMLEVBQUFULEdBQ0FGLEVBQUFHLFFBQUFELElBQ0EsU0FBQUUsR0FDQUosRUFBQUssT0FBQUQsS0FFQUosRUFBQU0sU0FFQVcsU0FBQSxXQUNBLEdBQUFqQixHQUFBRixFQUFBRSxRQUVBYyxFQUFBSixFQUFBSyxJQUFBSCxFQVdBLE9BVkEsT0FBQUUsR0FDQWQsRUFBQUcsUUFBQVcsR0FHQWpCLEVBQUEsY0FBQUksU0FBQSxLQUFBLFNBQUFDLEdBQ0FRLEVBQUFNLElBQUFKLEVBQUFWLEdBQ0FGLEVBQUFHLFFBQUFELElBQ0EsU0FBQUUsR0FDQUosRUFBQUssT0FBQUQsS0FFQUosRUFBQU0sU0FFQVksVUFBQSxXQUNBLE9BQ0EsVUFDQSxTQUNBLFVBQ0EsV0FDQSxhQUNBLFdBQ0EsY0FDQSxXQUNBLFVBQ0EsVUFDQSxTQUNBLFFBQ0EsV0FDQSxVQUNBLE9BQ0EsU0FDQSxXQUNBLFlBQ0EsUUFDQSxXQUNBLGdCQUNBLFdBQ0EsWUFDQSxhQUNBLFdBQ0EsVUFDQSxXQUNBLFNBQ0EsZ0JBQ0EsYUFDQSxhQUNBLFdBQ0EsaUJBQ0EsZUFDQSxPQUNBLFdBQ0EsU0FDQSxlQUNBLGVBQ0EsaUJBQ0EsZUFDQSxZQUNBLFFBQ0EsT0FDQSxVQUNBLFdBQ0EsYUFDQSxnQkFDQSxZQUNBLFlBR0FDLFdBQUEsV0FDQVQsRUFBQVUsT0FBQVQsR0FDQUQsRUFBQVUsT0FBQVIsUUM3RkE1QixJQUFBLE9BQUFRLFdBQUEsaUJBQUEsU0FBQSxLQUFBLFNBQUEsZ0JBQUEsaUJBQUEsU0FBQUMsRUFBQUssRUFBQXVCLEVBQUFDLEVBQUFDLEdBQ0E5QixFQUFBK0IsV0FBQSxXQUNBL0IsRUFBQWdDLFVBQUEsRUFDQUYsRUFBQUcsS0FBQSxtQkFFQSxJQUFBQyxHQUFBTCxFQUFBVCxrQkFDQWMsR0FBQUMsS0FBQSxTQUFBQyxHQUNBcEMsRUFBQXFDLGNBQUFELEdBR0EsSUFBQUUsR0FBQVQsRUFBQUwsVUFDQWMsR0FBQUgsS0FBQSxTQUFBSSxHQUNBdkMsRUFBQXVDLE1BQUFBLElBR0FsQyxFQUFBbUMsS0FBQU4sRUFBQUksSUFBQWpDLFdBQUEsV0FDQXlCLEVBQUFXLEtBQUEsb0JBQ0F6QyxFQUFBZ0MsVUFBQSxJQUdBaEMsRUFBQTBDLE9BQUFiLEVBQUFKLFlBRUF6QixFQUFBMkMsT0FBQSxXQUNBLEdBQUE1QixJQUNBNkIsWUFBQTVDLEVBQUE2QyxZQUNBQyxhQUFBOUMsRUFBQStDLGFBQ0FDLE1BQUFoRCxFQUFBaUQsY0FDQUMsS0FBQWxELEVBQUFtRCxLQUNBQyxTQUFBcEQsRUFBQXFELGlCQUNBQyxhQUFBdEQsRUFBQXVELHFCQUlBM0IsR0FBQWQsVUFBQUMsR0FBQW9CLEtBQUEsV0FFQXFCLE9BQUFDLFNBQUFDLFFBQUFGLE9BQUFDLFNBQUFFLFNBQUEsS0FBQUgsT0FBQUMsU0FBQUcsYUNsQ0FyRSxJQUFBLE9BQUFRLFdBQUEsZUFBQSxTQUFBLFNBQUEsaUJBQUEsU0FBQUMsRUFBQTRCLEVBQUFFLEdBQ0E5QixFQUFBK0IsV0FBQSxXQUNBRCxFQUFBRyxLQUFBLGtCQUVBTCxFQUFBdEIsYUFBQTZCLEtBQUEsU0FBQTBCLEdBQ0E3RCxFQUFBNkQsS0FBQUEsSUFEQWpDLFdBRUEsV0FDQUUsRUFBQVcsS0FBQSxrQkFDQXpDLEVBQUFnQyxVQUFBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ25nUm91dGUnLCAnbmdSZXNvdXJjZScsICdhbmd1bGFyU3Bpbm5lcnMnXSk7XHJcblxyXG52YXIgbmdtID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGVzID0ge307XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICB2YXIgbW9kdWxlID0gbW9kdWxlc1tuYW1lXTtcclxuICAgICAgICBpZiAobW9kdWxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG1vZHVsZXNbbmFtZV0gPSBhbmd1bGFyLm1vZHVsZShuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycikgeyB9XHJcbiAgICAgICAgcmV0dXJuIG1vZHVsZXNbbmFtZV07XHJcbiAgICB9XHJcbn0oKSk7XHJcblxyXG5cclxuLy9kZWZpbmUoWydhbmd1bGFyJywgJ2FuZ3VsYXItcm91dGUnLCAnYW5ndWxhci1yZXNvdXJjZScsICdhcHAvY29tbW9uL2NvbmZpZycsICdhcHAvY29tbW9uL2NhY2hlJywgJ2FwcC9tb2RlbHMvd2VsY29tZS1jb250cm9sbGVyJyxcclxuLy8nYXBwL21vZGVscy9qb2JzL2NyZWF0ZS1jb250cm9sbGVyJywgJ2FwcC9zZXJ2aWNlcy9qb2JzLWRhdGEtc2VydmljZScsICAnYXBwL3NlcnZpY2VzL3N0YXRpYy1kYXRhLXNlcnZpY2UnLCAnYXBwL21vZGVscy9qb2JzL2xpc3QtY29udHJvbGxlciddLFxyXG5cclxuLy8gICAgZnVuY3Rpb24gKGFuZ3VsYXIsIHJvdXRlLCByZXNvdXJjZSwgY29uZmlnLCBjYWNoZSwgd2VsY29tZUNvbnRyb2xsZXIsIGpvYkNyZWF0ZUNvbnRyb2xsZXIsIGpvYnNEYXRhU2VydmljZSwgc3RhdGljRGF0YVNlcnZpY2UsXHJcbi8vICAgICAgICBqb2JMaXN0Q29udHJvbGxlcikge1xyXG4vLyAgICAndXNlIHN0cmljdCc7XHJcblxyXG4vLyAgICAgICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdqb2JTZWFyY2hBcHAnLCBbJ25nUm91dGUnLCAnbmdSZXNvdXJjZSddKTtcclxuXHJcbi8vICAgICAgICBhcHAuY29uZmlnKGNvbmZpZyk7XHJcbi8vICAgICAgICBhcHAuZmFjdG9yeSgnYXBwQ2FjaGUnLCBjYWNoZSk7XHJcbi8vICAgICAgICBhcHAuZmFjdG9yeSgnam9ic0RhdGFTZXJ2aWNlJywgam9ic0RhdGFTZXJ2aWNlKTtcclxuLy8gICAgICAgIGFwcC5mYWN0b3J5KCdzdGF0aWNEYXRhU2VydmljZScsIHN0YXRpY0RhdGFTZXJ2aWNlKTtcclxuLy8gICAgICAgIGFwcC5jb250cm9sbGVyKCd3ZWxjb21lQ29udHJvbGxlcicsIHdlbGNvbWVDb250cm9sbGVyKTtcclxuLy8gICAgICAgIGFwcC5jb250cm9sbGVyKCdqb2JDcmVhdGVDb250cm9sbGVyJywgam9iQ3JlYXRlQ29udHJvbGxlcik7XHJcbi8vICAgICAgICBhcHAuY29udHJvbGxlcignam9iTGlzdENvbnRyb2xsZXInLCBqb2JMaXN0Q29udHJvbGxlcik7XHJcbi8vfSk7IiwiXHJcbm5nbSgnYXBwJykuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCBmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpIHtcclxuICAgICRyb3V0ZVByb3ZpZGVyXHJcbiAgICAgICAgICAgLndoZW4oJy8nLCB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2xhbmRpbmcuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdsYW5kaW5nQ3RybCdcclxuICAgICAgICAgICB9KVxyXG4gICAgICAgICAgIC53aGVuKCcvam9icy9jcmVhdGUnLCB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2pvYnMvY3JlYXRlLWpvYi5odG1sJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NyZWF0ZUpvYkN0cmwnXHJcbiAgICAgICAgICAgfSlcclxuICAgICAgICAgICAud2hlbignL2pvYnMvbGlzdCcsIHtcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvam9icy9saXN0LWpvYi5odG1sJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2xpc3RKb2JDdHJsJ1xyXG4gICAgICAgICAgIH0pO1xyXG59XSk7IiwibmdtKCdhcHAnKS5jb250cm9sbGVyKCdsYW5kaW5nQ3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xyXG4gICAgJHNjb3BlLm1lc3NhZ2UgPSBcIkhlbGxvIHRoZXJlIVwiO1xyXG59XSk7IiwibmdtKCdhcHAnKS5mYWN0b3J5KCdjYWNoZVN2YycsIFsnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uICgkY2FjaGVGYWN0b3J5KSB7XHJcbiAgICByZXR1cm4gJGNhY2hlRmFjdG9yeSgnYXBwLWNhY2hlJyk7XHJcbn1dKTsiLCJuZ20oJ2FwcCcpLmZhY3RvcnkoJ2pvYlN2YycsIFsnJHJlc291cmNlJywgJyRxJywgZnVuY3Rpb24oJHJlc291cmNlLCAkcSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnZXRBbGxKb2JzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblxyXG4gICAgICAgICAgICAkcmVzb3VyY2UoJ2FwaS9qb2JzLycpLnF1ZXJ5KHt9LCBudWxsLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmVhdGVKb2I6IGZ1bmN0aW9uKGpvYikge1xyXG4gICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICAgICAgICAgJHJlc291cmNlKCdhcGkvam9icy8nKS5zYXZlKHt9LCBqb2IsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XSk7IiwibmdtKCdhcHAnKS5mYWN0b3J5KCdzdGF0aWNEYXRhU3ZjJywgWyckcmVzb3VyY2UnLCAnJHEnLCAnY2FjaGVTdmMnLCBmdW5jdGlvbiAoJHJlc291cmNlLCAkcSwgY2FjaGVTdmMpIHtcclxuICAgICAgICB2YXIgb3JnQ2FjaGVLZXkgPSAnc3RhdGljT3JnYW5pemF0aW9uc19LZXknO1xyXG4gICAgICAgIHZhciByb2xlQ2FjaGVLZXkgPSAnc3RhdGljUm9sZXNfS2V5JztcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0T3JnYW5pemF0aW9uczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjYWNoZWQgPSBjYWNoZVN2Yy5nZXQob3JnQ2FjaGVLZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShjYWNoZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICRyZXNvdXJjZSgnYXBpL29yZ2FuaXphdGlvbnMvJykucXVlcnkoe30sIG51bGwsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVTdmMucHV0KG9yZ0NhY2hlS2V5LCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldFJvbGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjYWNoZWQgPSBjYWNoZVN2Yy5nZXQocm9sZUNhY2hlS2V5KTtcclxuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoY2FjaGVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAkcmVzb3VyY2UoJ2FwaS9yb2xlcy8nKS5xdWVyeSh7fSwgbnVsbCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZVN2Yy5wdXQocm9sZUNhY2hlS2V5LCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldFN0YXRlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAnQWxhYmFtYScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0FsYXNrYScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0FyaXpvbmEnLFxyXG4gICAgICAgICAgICAgICAgICAgICdBcmthbnNhcycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0NhbGlmb3JuaWEnLFxyXG4gICAgICAgICAgICAgICAgICAgICdDb2xvcmFkbycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0Nvbm5lY3RpY3V0JyxcclxuICAgICAgICAgICAgICAgICAgICAnRGVsYXdhcmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICdGbG9yaWRhJyxcclxuICAgICAgICAgICAgICAgICAgICAnR2VvcmdpYScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0hhd2FpaScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0lkYWhvJyxcclxuICAgICAgICAgICAgICAgICAgICAnSWxsaW5vaXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICdJbmRpYW5hJyxcclxuICAgICAgICAgICAgICAgICAgICAnSW93YScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0thbnNhcycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0tlbnR1Y2t5JyxcclxuICAgICAgICAgICAgICAgICAgICAnTG91aXNpYW5hJyxcclxuICAgICAgICAgICAgICAgICAgICAnTWFpbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICdNYXJ5bGFuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ01hc3NhY2h1c2V0dHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICdNaWNoaWdhbicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ01pbm5lc290YScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ01pc3Npc3NpcGknLFxyXG4gICAgICAgICAgICAgICAgICAgICdNaXNzb3VyaScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ01vbnRhbmEnLFxyXG4gICAgICAgICAgICAgICAgICAgICdOZWJyYXNrYScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ05ldmFkYScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ05ldyBIYW1wc2hpcmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICdOZXcgSmVyc2V5JyxcclxuICAgICAgICAgICAgICAgICAgICAnTmV3IE1leGljbycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ05ldyBZb3JrJyxcclxuICAgICAgICAgICAgICAgICAgICAnTm9ydGggQ2Fyb2xpbmEnLFxyXG4gICAgICAgICAgICAgICAgICAgICdOb3J0aCBEYWtvdGEnLFxyXG4gICAgICAgICAgICAgICAgICAgICdPaGlvJyxcclxuICAgICAgICAgICAgICAgICAgICAnT2tsYWhvbWEnLFxyXG4gICAgICAgICAgICAgICAgICAgICdPcmVnb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICdQZW5uc3lsdmFuaWEnLFxyXG4gICAgICAgICAgICAgICAgICAgICdSaG9kZSBJc2xhbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICdTb3V0aCBDYXJvbGluYScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1NvdXRoIERha290YScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1Rlbm5lc3NlZScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1RleGFzJyxcclxuICAgICAgICAgICAgICAgICAgICAnVXRhaCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1Zlcm1vbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICdWaXJnaW5pYScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1dhc2hpbmd0b24nLFxyXG4gICAgICAgICAgICAgICAgICAgICdXZXN0IFZpcmdpbmlhJyxcclxuICAgICAgICAgICAgICAgICAgICAnV2lzY29uc2luJyxcclxuICAgICAgICAgICAgICAgICAgICAnV3lvbWluZydcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNsZWFyQ2FjaGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhY2hlU3ZjLnJlbW92ZShvcmdDYWNoZUtleSk7XHJcbiAgICAgICAgICAgICAgICBjYWNoZVN2Yy5yZW1vdmUocm9sZUNhY2hlS2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxufV0pOyIsIm5nbSgnYXBwJykuY29udHJvbGxlcignY3JlYXRlSm9iQ3RybCcsIFsnJHNjb3BlJywgJyRxJywgJ2pvYlN2YycsICdzdGF0aWNEYXRhU3ZjJywgJ3NwaW5uZXJTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHEsIGpvYlN2Yywgc3RhdGljRGF0YVN2Yywgc3Bpbm5lclNlcnZpY2UpIHtcclxuICAgICRzY29wZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRzY29wZS5pc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHNwaW5uZXJTZXJ2aWNlLnNob3coJ2pvYkNyZWF0ZVNwaW5uZXInKTtcclxuXHJcbiAgICAgICAgdmFyIG9yZ1JlcXVlc3QgPSBzdGF0aWNEYXRhU3ZjLmdldE9yZ2FuaXphdGlvbnMoKTtcclxuICAgICAgICBvcmdSZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKG9yZ3MpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm9yZ2FuaXphdGlvbnMgPSBvcmdzO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgcm9sZVJlcXVlc3QgPSBzdGF0aWNEYXRhU3ZjLmdldFJvbGVzKCk7XHJcbiAgICAgICAgcm9sZVJlcXVlc3QudGhlbihmdW5jdGlvbiAocm9sZXMpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzID0gcm9sZXM7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRxLmFsbChbb3JnUmVxdWVzdCwgcm9sZVJlcXVlc3RdKS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2UuaGlkZSgnam9iQ3JlYXRlU3Bpbm5lcicpO1xyXG4gICAgICAgICAgICAkc2NvcGUuaXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkc2NvcGUuc3RhdGVzID0gc3RhdGljRGF0YVN2Yy5nZXRTdGF0ZXMoKTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uIHN1Ym1pdCgpIHtcclxuICAgICAgICAgICAgdmFyIGpvYiA9IHtcclxuICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uOiAkc2NvcGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICBQb3NpdGlvblR5cGU6ICRzY29wZS5zZWxlY3RlZFJvbGUsXHJcbiAgICAgICAgICAgICAgICBTdGF0ZTogJHNjb3BlLnNlbGVjdGVkU3RhdGUsXHJcbiAgICAgICAgICAgICAgICBDaXR5OiAkc2NvcGUuY2l0eSxcclxuICAgICAgICAgICAgICAgIExvY2F0aW9uOiAkc2NvcGUuc2VsZWN0ZWRMb2NhdGlvbixcclxuICAgICAgICAgICAgICAgIE9yZ2FuaXphdGlvbjogJHNjb3BlLnNlbGVjdGVkT3JnYW5pemF0aW9uXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vdG9kbzogaGFuZGxlIGVycm9yc1xyXG4gICAgICAgICAgICBqb2JTdmMuY3JlYXRlSm9iKGpvYikudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RvZG86IHJlZGlyZWN0IHRvIGpvYiBsaXN0IHBhZ2VcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufV0pOyIsIlxyXG5uZ20oJ2FwcCcpLmNvbnRyb2xsZXIoJ2xpc3RKb2JDdHJsJywgWyckc2NvcGUnLCAnam9iU3ZjJywgJ3NwaW5uZXJTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgam9iU3ZjLCBzcGlubmVyU2VydmljZSkge1xyXG4gICAgJHNjb3BlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3Bpbm5lclNlcnZpY2Uuc2hvdygnam9iTGlzdFNwaW5uZXInKTtcclxuICAgICAgICBcclxuICAgICAgICBqb2JTdmMuZ2V0QWxsSm9icygpLnRoZW4oZnVuY3Rpb24gKGpvYnMpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmpvYnMgPSBqb2JzO1xyXG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzcGlubmVyU2VydmljZS5oaWRlKCdqb2JMaXN0U3Bpbm5lcicpO1xyXG4gICAgICAgICAgICAkc2NvcGUuaXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==